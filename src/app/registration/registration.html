<div class="container">
  <h1>Student Registration Form</h1>

  <!-- Connect form to Angular Reactive Form -->
  <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">

    <!-- Name -->
    <div class="form-group">
      <label for="name">Full Name</label>
      <input type="text" id="name" placeholder="Enter your full name" formControlName="name">
    <div class="error" *ngIf="registrationForm.get('name')?.touched && registrationForm.get('name')?.invalid">
        <small *ngIf="registrationForm.get('name')?.errors?.['required']">Name is required</small>
        <small *ngIf="registrationForm.get('name')?.errors?.['minlength']">Name must be at least 3 characters</small>
    </div>
    </div>

    <!-- Email -->
    <div class="form-group">
      <label for="email">Email Address</label>
      <input type="email" id="email" placeholder="example@email.com" formControlName="email">
        <div class="error" *ngIf="registrationForm.get('email')?.touched && registrationForm.get('email')?.invalid">
            <small *ngIf="registrationForm.get('email')?.errors?.['required']">Email is required</small>
            <small *ngIf="registrationForm.get('email')?.errors?.['email']">Enter a valid email</small>
        </div>
    </div>

    <!-- Password -->
    <div class="form-group">
      <label for="password">Create Password</label>
      <input type="password" id="password" placeholder="Enter strong password" formControlName="password">
      <div class="error" *ngIf="registrationForm.get('password')?.touched && registrationForm.get('password')?.invalid">
        <small *ngIf="registrationForm.get('password')?.errors?.['required']">Password is required</small>
        <small *ngIf="registrationForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters</small>
    </div>
    </div>

    <!-- Gender -->
    <div class="form-group">
      <label>Gender</label>
      <div class="radio-group">
        <label><input type="radio" value="male" formControlName="gender"> Male</label>
        <label><input type="radio" value="female" formControlName="gender"> Female</label>
        <label><input type="radio" value="other" formControlName="gender"> Other</label>
      </div>
      <div class="error" *ngIf="registrationForm.get('gender')?.touched && registrationForm.get('gender')?.invalid">
      <small>Gender is required</small>
    </div>
    </div>

    <!-- Date of Birth -->
    <div class="form-group">
      <label for="dob">Date of Birth</label>
      <input type="date" id="dob" formControlName="dob">
       <div class="error" *ngIf="registrationForm.get('dob')?.touched && registrationForm.get('dob')?.invalid">
      <small>DOB is required</small>
    </div>
    </div>

    <!-- Phone Number -->
    <div class="form-group">
      <label for="phone">Phone Number</label>
      <input type="tel" id="phone" placeholder="1234567890" formControlName="phone">
     <div class="error" *ngIf="registrationForm.get('phone')?.touched && registrationForm.get('phone')?.invalid">
      <small *ngIf="registrationForm.get('phone')?.errors?.['required']">Phone is required</small>
      <small *ngIf="registrationForm.get('phone')?.errors?.['pattern']">Phone must be 10 digits</small>
    </div>
    </div>

    <!-- Department -->
    <div class="form-group">
      <label for="department">Department</label>
      <select id="department" formControlName="department">
        <option value="">-- Select Department --</option>
        <option *ngFor="let dept of departments" [value]="dept">{{ dept }}</option>
      </select>
      <div class="error" *ngIf="registrationForm.get('department')?.touched && registrationForm.get('department')?.invalid">
      <small>Department is required</small>
    </div>
    </div>

    <!-- Skills -->
    <div class="form-group">
      <label>Skills</label>
      <div class="checkbox-group">
        <label *ngFor="let skill of skillsList">
          <input type="checkbox" [value]="skill" (change)="onSkillChange($event)"> {{ skill }}
        </label>
      </div>
      <div class="error" *ngIf="registrationForm.get('skills')?.touched && registrationForm.get('skills')?.invalid">
      <small>At least one skill is required</small>
    </div>
    </div>

    <!-- Address -->
    <div class="form-group">
      <label for="address">Address</label>
      <textarea id="address" rows="3" placeholder="Enter your full address" formControlName="address"></textarea>
        <div class="error" *ngIf="registrationForm.get('address')?.touched && registrationForm.get('address')?.invalid">
      <small>Address is required</small>
    </div>
    </div>

    <!-- Terms -->
    <div class="form-group terms">
      <label>
        <input type="checkbox" formControlName="terms"> I agree to the terms and conditions
      </label>
      <div class="error" *ngIf="registrationForm.get('terms')?.touched && registrationForm.get('terms')?.invalid">
      <small>You must accept terms</small>
    </div>
    </div>
     
    <!-- Submit -->
    <div class="form-group">
      <button type="submit" class="btn-submit" [disabled]="registrationForm.invalid || isSubmitting">
  {{ isSubmitting ? 'Submitting...' : 'Register' }}
</button>

    </div>

  </form>
</div>
